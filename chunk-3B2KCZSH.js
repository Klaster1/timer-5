import{a as I}from"./chunk-PDIFT3BZ.js";import{Y as z,c as d,d as N}from"./chunk-ONICEUXU.js";import{q as T,t as O}from"./chunk-CLZ7XAHW.js";import{D as v,Ec as M,Gb as S,Ha as y,Hb as $,Kb as b,Lb as h,Mb as E,Nb as l,Ob as m,W as C,Y as g,Yb as c,ab as s,ja as x,kc as p,lb as F,lc as u,qc as D,sc as A,tc as R,v as r,w as _}from"./chunk-45KSP4V3.js";var P=e=>({dimmed:e}),V=(e,o)=>o.unit;function H(e,o){if(e&1&&(l(0,"span",3),p(1),m(),l(2,"span"),p(3),m()),e&2){let t=c().$implicit;s(),u(t.value.at(0)),s(2),u(t.value.slice(1))}}function L(e,o){if(e&1&&p(0),e&2){let t=c().$implicit;u(t.value)}}function k(e,o){if(e&1&&(l(0,"span",0)(1,"span",1),S(2,H,4,2)(3,L,1,1),m(),l(4,"span",2),p(5),m()()),e&2){let t=o.$implicit,n=c();E("ngClass",D(3,P,t.dimmed===n.DimMode.All)),s(2),$(t.dimmed===n.DimMode.First?2:3),s(3),u(t.unit)}}var i=function(e){return e[e.All=0]="All",e[e.First=1]="First",e[e.None=2]="None",e}(i||{}),f=function(e){return e.Hours="h",e.Minutes="m",e.Seconds="s",e}(f||{}),W=v(z(1)).pipe(g(0),r(()=>Date.now()),C({refCount:!0,bufferSize:1})),K=(()=>{class e{elementRef=x(y);value=M.required();DimMode=i;duration$=_([N(this.value),W]).pipe(r(([t,n])=>({hours:~~(t(n)/36e5),minutes:~~(t(n)%36e5/6e4),seconds:~~(t(n)%6e4/1e3)})),C({refCount:!0,bufferSize:1}),d());durationFragments=this.duration$.pipe(r(({hours:t,minutes:n,seconds:a})=>t===0&&n===0?[{value:a.toString(),unit:f.Seconds,dimmed:i.None}]:[{value:t.toString(),unit:f.Hours,dimmed:t===0?i.All:i.None},{value:I(n),unit:f.Minutes,dimmed:t===0&&n===0?i.All:n<10?i.First:i.None}]),d());textValue$=this.duration$.pipe(r(({hours:t,minutes:n,seconds:a})=>`${t}h ${n}m ${a}s`));constructor(){this.textValue$.pipe(d()).subscribe(t=>{this.elementRef.nativeElement.setAttribute("aria-label",t),this.elementRef.nativeElement.setAttribute("title",t)})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=F({type:e,selectors:[["duration"]],inputs:{value:[1,"value"]},decls:3,vars:2,consts:[[1,"fragment",3,"ngClass"],[1,"value"],[1,"unit"],[1,"dimmed"]],template:function(n,a){n&1&&(b(0,k,6,5,"span",0,V),A(2,"async")),n&2&&h(R(2,0,a.durationFragments))},dependencies:[T,O],styles:[`[_nghost-%COMP%]{display:inline-flex;gap:.35em;--unit-font-size: .6em}.unit[_ngcontent-%COMP%]{font-size:var(--unit-font-size)}.value[_ngcontent-%COMP%]{display:inline-flex;align-items:baseline}.dimmed[_ngcontent-%COMP%]{opacity:.35}
/*# sourceMappingURL=duration-RJUHQFW4.css.map */`],changeDetection:0})}return e})();export{K as a};
//# sourceMappingURL=chunk-3B2KCZSH.js.map
