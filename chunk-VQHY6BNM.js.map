{
  "version": 3,
  "sources": ["src/app/directives/datetime-local.directive.ts"],
  "sourcesContent": ["import { Directive, ElementRef, forwardRef, inject } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nconst utcDateToLocalDate = (date: Date): Date => {\r\n  const utcDate = new Date(date);\r\n  return new Date(utcDate.getTime() - utcDate.getTimezoneOffset() * 60000);\r\n};\r\n\r\nconst toDateTimeLocalValue = (date: Date): string => {\r\n  return date.toISOString().replace('Z', '');\r\n};\r\n\r\n@Directive({\r\n  selector: 'input[type=\"datetime-local\"]',\r\n  host: {\r\n    '(input)': 'this._handleInput($event.target.value)',\r\n    '(blur)': 'onTouched()',\r\n  },\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => DatetimeLocalDirective),\r\n      multi: true,\r\n    },\r\n  ],\r\n  standalone: true,\r\n})\r\nexport class DatetimeLocalDirective implements ControlValueAccessor {\r\n  private _elementRef = inject<ElementRef<HTMLInputElement>>(ElementRef);\r\n\r\n  writeValue(value: unknown): void {\r\n    const normalizedValue = value instanceof Date ? toDateTimeLocalValue(utcDateToLocalDate(value)) : null;\r\n    this._elementRef.nativeElement.value = normalizedValue ?? '';\r\n  }\r\n\r\n  _handleInput(value: string | undefined): void {\r\n    this.onChange(value?.length ? new Date(value) : value);\r\n  }\r\n\r\n  onChange = (_: any) => {};\r\n\r\n  onTouched = () => {};\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  registerOnChange(fn: (_: any) => {}): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this._elementRef.nativeElement.disabled = isDisabled;\r\n  }\r\n}\r\n"],
  "mappings": "yHAGA,IAAMA,EAAsBC,GAAoB,CAC9C,IAAMC,EAAU,IAAIC,KAAKF,CAAI,EAC7B,OAAO,IAAIE,KAAKD,EAAQE,QAAO,EAAKF,EAAQG,kBAAiB,EAAK,GAAK,CACzE,EAEMC,EAAwBL,GACrBA,EAAKM,YAAW,EAAGC,QAAQ,IAAK,EAAE,EAkB9BC,GAAsB,IAAA,CAA7B,MAAOA,CAAsB,CAfnCC,aAAA,CAgBU,KAAAC,YAAcC,EAAqCC,CAAU,EAWrE,KAAAC,SAAYC,GAAU,CAAE,EAExB,KAAAC,UAAY,IAAK,CAAE,EAXnBC,WAAWC,EAAc,CACvB,IAAMC,EAAkBD,aAAiBf,KAAOG,EAAqBN,EAAmBkB,CAAK,CAAC,EAAI,KAClG,KAAKP,YAAYS,cAAcF,MAAQC,GAAmB,EAC5D,CAEAE,aAAaH,EAAyB,CACpC,KAAKJ,SAASI,GAAOI,OAAS,IAAInB,KAAKe,CAAK,EAAIA,CAAK,CACvD,CAMAK,kBAAkBC,EAAc,CAC9B,KAAKR,UAAYQ,CACnB,CAEAC,iBAAiBD,EAAkB,CACjC,KAAKV,SAAWU,CAClB,CAEAE,iBAAiBC,EAAmB,CAClC,KAAKhB,YAAYS,cAAcQ,SAAWD,CAC5C,iDA1BWlB,EAAsB,CAAA,+BAAtBA,EAAsBoB,UAAA,CAAA,CAAA,QAAA,OAAA,gBAAA,CAAA,EAAAC,aAAA,SAAAC,EAAAC,EAAA,CAAAD,EAAA,GAAtBE,EAAA,QAAA,SAAAC,EAAA,CAAA,OAAAF,EAAAX,aAAAa,EAAAC,OAAAjB,KAAA,CAAsC,CAAA,EAAhB,OAAA,UAAA,CAAA,OAAtBc,EAAAhB,UAAA,CAAW,CAAA,6BATX,CACT,CACEoB,QAASC,EACTC,YAAaC,EAAW,IAAM9B,CAAsB,EACpD+B,MAAO,GACR,CACF,CAAA,CAAA,CAAA,CAAA,SAGU/B,CAAsB,GAAA",
  "names": ["utcDateToLocalDate", "date", "utcDate", "Date", "getTime", "getTimezoneOffset", "toDateTimeLocalValue", "toISOString", "replace", "DatetimeLocalDirective", "constructor", "_elementRef", "inject", "ElementRef", "onChange", "_", "onTouched", "writeValue", "value", "normalizedValue", "nativeElement", "_handleInput", "length", "registerOnTouched", "fn", "registerOnChange", "setDisabledState", "isDisabled", "disabled", "selectors", "hostBindings", "rf", "ctx", "\u0275\u0275listener", "$event", "target", "provide", "NG_VALUE_ACCESSOR", "useExisting", "forwardRef", "multi"]
}
