import{a as I}from"./chunk-PDIFT3BZ.js";import{Y as z,c as d,d as T}from"./chunk-NQYG6ME2.js";import{h as R,k as O}from"./chunk-LF5FTB2H.js";import{Bb as $,D as C,Ja as y,Ka as F,Lb as b,Qb as h,Tb as E,Ub as A,Vb as l,Wb as m,Y as _,_ as g,ec as c,jb as s,la as x,pc as p,qc as u,uc as D,v as r,vb as S,w as v,wc as N,xc as M}from"./chunk-4DB7P3IH.js";var P=e=>({dimmed:e}),V=(e,o)=>o.unit;function L(e,o){if(e&1&&(l(0,"span",3),p(1),m(),l(2,"span"),p(3),m()),e&2){let t=c().$implicit;s(),u(t.value.at(0)),s(2),u(t.value.slice(1))}}function k(e,o){if(e&1&&p(0),e&2){let t=c().$implicit;u(t.value)}}function H(e,o){if(e&1&&(l(0,"span",0)(1,"span",1),$(2,L,4,2)(3,k,1,1),m(),l(4,"span",2),p(5),m()()),e&2){let t=o.$implicit,n=c();b("ngClass",D(3,P,t.dimmed===n.DimMode.All)),s(2),h(t.dimmed===n.DimMode.First?2:3),s(3),u(t.unit)}}var i=function(e){return e[e.All=0]="All",e[e.First=1]="First",e[e.None=2]="None",e}(i||{}),f=function(e){return e.Hours="h",e.Minutes="m",e.Seconds="s",e}(f||{}),Y=C(z(1)).pipe(g(0),r(()=>Date.now()),_({refCount:!0,bufferSize:1})),Q=(()=>{class e{elementRef=x(F);value=y.required();DimMode=i;duration$=v([T(this.value),Y]).pipe(r(([t,n])=>({hours:~~(t(n)/36e5),minutes:~~(t(n)%36e5/6e4),seconds:~~(t(n)%6e4/1e3)})),_({refCount:!0,bufferSize:1}),d());durationFragments=this.duration$.pipe(r(({hours:t,minutes:n,seconds:a})=>t===0&&n===0?[{value:a.toString(),unit:f.Seconds,dimmed:i.None}]:[{value:t.toString(),unit:f.Hours,dimmed:t===0?i.All:i.None},{value:I(n),unit:f.Minutes,dimmed:t===0&&n===0?i.All:n<10?i.First:i.None}]),d());textValue$=this.duration$.pipe(r(({hours:t,minutes:n,seconds:a})=>`${t}h ${n}m ${a}s`));constructor(){this.textValue$.pipe(d()).subscribe(t=>{this.elementRef.nativeElement.setAttribute("aria-label",t),this.elementRef.nativeElement.setAttribute("title",t)})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=S({type:e,selectors:[["duration"]],inputs:{value:[1,"value"]},decls:3,vars:2,consts:[[1,"fragment",3,"ngClass"],[1,"value"],[1,"unit"],[1,"dimmed"]],template:function(n,a){n&1&&(E(0,H,6,5,"span",0,V),N(2,"async")),n&2&&A(M(2,0,a.durationFragments))},dependencies:[R,O],styles:[`[_nghost-%COMP%]{display:inline-flex;gap:.35em;--unit-font-size: .6em}.unit[_ngcontent-%COMP%]{font-size:var(--unit-font-size)}.value[_ngcontent-%COMP%]{display:inline-flex;align-items:baseline}.dimmed[_ngcontent-%COMP%]{opacity:.35}
/*# sourceMappingURL=duration.component-4YAFU7ON.css.map */`],changeDetection:0})}return e})();export{Q as a};
//# sourceMappingURL=chunk-E7ZVKK3A.js.map
