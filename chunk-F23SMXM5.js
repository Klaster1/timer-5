import{a as I}from"./chunk-PDIFT3BZ.js";import{X as z,c as d,d as P}from"./chunk-LTRX5FSR.js";import{h as T,k as O}from"./chunk-5PUO5CJX.js";import{Bb as F,D as v,Fb as $,Ka as E,Kb as b,La as S,Nb as h,Ob as A,Pb as l,Qb as m,Y as C,_ as g,ac as c,gb as s,kc as p,la as x,lc as u,oc as D,qa as y,qc as M,sc as N,tc as R,v as r,w as _}from"./chunk-BMFUSYNE.js";var V=(e,o)=>o.unit,L=e=>({dimmed:e});function k(e,o){if(e&1&&(l(0,"span",3),p(1),m(),l(2,"span"),p(3),m()),e&2){let t=c().$implicit;s(),u(t.value.at(0)),s(2),u(t.value.slice(1))}}function H(e,o){if(e&1&&p(0),e&2){let t=c().$implicit;u(t.value)}}function Y(e,o){if(e&1&&(l(0,"span",0)(1,"span",1),F(2,k,4,2)(3,H,1,1),m(),l(4,"span",2),p(5),m()()),e&2){let t=o.$implicit,n=c();$("ngClass",M(3,L,t.dimmed===n.DimMode.All)),s(2),b(t.dimmed===n.DimMode.First?2:3),s(3),u(t.unit)}}var i=function(e){return e[e.All=0]="All",e[e.First=1]="First",e[e.None=2]="None",e}(i||{}),f=function(e){return e.Hours="h",e.Minutes="m",e.Seconds="s",e}(f||{}),j=v(z(1)).pipe(g(0),r(()=>Date.now()),C({refCount:!0,bufferSize:1})),X=(()=>{class e{elementRef=x(S);value=E.required();DimMode=i;duration$=_([P(this.value),j]).pipe(r(([t,n])=>({hours:~~(t(n)/36e5),minutes:~~(t(n)%36e5/6e4),seconds:~~(t(n)%6e4/1e3)})),C({refCount:!0,bufferSize:1}),d());durationFragments=this.duration$.pipe(r(({hours:t,minutes:n,seconds:a})=>t===0&&n===0?[{value:a.toString(),unit:f.Seconds,dimmed:i.None}]:[{value:t.toString(),unit:f.Hours,dimmed:t===0?i.All:i.None},{value:I(n),unit:f.Minutes,dimmed:t===0&&n===0?i.All:n<10?i.First:i.None}]),d());textValue$=this.duration$.pipe(r(({hours:t,minutes:n,seconds:a})=>`${t}h ${n}m ${a}s`));constructor(){this.textValue$.pipe(d()).subscribe(t=>{this.elementRef.nativeElement.setAttribute("aria-label",t),this.elementRef.nativeElement.setAttribute("title",t)})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=y({type:e,selectors:[["duration"]],inputs:{value:[1,"value"]},standalone:!0,features:[D],decls:3,vars:2,consts:[[1,"fragment",3,"ngClass"],[1,"value"],[1,"unit"],[1,"dimmed"]],template:function(n,a){n&1&&(h(0,Y,6,5,"span",0,V),N(2,"async")),n&2&&A(R(2,0,a.durationFragments))},dependencies:[T,O],styles:[`[_nghost-%COMP%]{display:inline-flex;gap:.35em;--unit-font-size: .6em}.unit[_ngcontent-%COMP%]{font-size:var(--unit-font-size)}.value[_ngcontent-%COMP%]{display:inline-flex;align-items:baseline}.dimmed[_ngcontent-%COMP%]{opacity:.35}
/*# sourceMappingURL=duration.component-EYAECPCM.css.map */`],changeDetection:0})}return e})();export{X as a};
//# sourceMappingURL=chunk-F23SMXM5.js.map
